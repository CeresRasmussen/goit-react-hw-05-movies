{"version":3,"file":"static/js/888.e1eb2120.chunk.js","mappings":"4PACA,EAA+B,mC,SCIzBA,GAAWC,EAAAA,EAAAA,OAAK,kBAAM,4BAAN,IAiEtB,EA/DqB,WAAO,IAAD,IACzB,GAA4BC,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAA8BF,EAAAA,EAAAA,WAAS,GAAvC,eAAOG,EAAP,KAAgBC,EAAhB,KACiBC,GAAaC,EAAAA,EAAAA,MAAtBC,QAGFC,EAAY,qBADDC,EAAAA,EAAAA,MACaC,aAAZ,aAAG,EAAgBC,YAAnB,QAA2B,IAE7C,GAA0BX,EAAAA,EAAAA,UAAS,IAAnC,eAAOY,EAAP,KAAcC,EAAd,KAeA,OAdAC,EAAAA,EAAAA,YAAU,WACRV,GAAW,GACX,IAAMW,EAAS,mCAAG,uGACOC,EAAAA,EAAAA,IAAeX,GADtB,gBACRY,EADQ,EACRA,KACRJ,EAASI,GACTb,GAAW,GACXF,EAAUe,EAAKhB,QACfiB,QAAQC,IAAI,SAAUF,GALN,2CAAH,qDAQfF,GAED,GAAE,CAACV,KAGF,4BACE,SAACP,EAAD,CAAUsB,GAAIZ,EAAd,8BACCL,GACC,uCAEA,iCACE,2BACGS,EAAMS,cACL,gBACEC,IAAG,0CAAqCV,EAAMS,aAC9CE,IAAKX,EAAMY,MACXC,MAAO,OAIX,wBAAKb,EAAMc,kBACX,wCAAqC,GAArBd,EAAMe,aAAtB,QACA,sCACA,uBAAIf,EAAMgB,YACV,oCACA,uBAAI3B,EAAO4B,KAAI,SAAAC,GAAK,OAAIA,EAAMC,IAAV,IAAgBC,KAAK,YAE3C,iBAAKC,UAAWC,EAAhB,WACE,SAAC,KAAD,CAAMd,GAAG,OAAOV,MAAO,CAAEC,KAAMH,GAA/B,mBAGA,SAAC,KAAD,CAAMY,GAAG,UAAUV,MAAO,CAAEC,KAAMH,GAAlC,yBAIF,SAAC,EAAA2B,SAAD,CAAUC,UAAU,yCAApB,UACE,SAAC,KAAD,WAMX,C,8LCnEKC,EAAW,gCACXC,EAAM,mCAECC,EAAiB,mCAAG,uGAEhBC,EAAAA,EAAAA,IAAA,UAAaH,EAAb,sCAAmDC,IAFnC,2IAAH,qDAQjBtB,EAAc,mCAAG,WAAMX,GAAN,0FAEbmC,EAAAA,EAAAA,IAAA,UACRH,EADQ,iBACShC,EADT,oBAC6BiC,EAD7B,oBAFa,2IAAH,sDAUdG,EAAS,mCAAG,WAAMpC,GAAN,0FAERmC,EAAAA,EAAAA,IAAA,UACRH,EADQ,iBACShC,EADT,4BACqCiC,EADrC,oBAFQ,2IAAH,sDAUTI,EAAY,mCAAG,WAAMrC,GAAN,0FAEXmC,EAAAA,EAAAA,IAAA,UACRH,EADQ,iBACShC,EADT,4BACqCiC,EADrC,2BAFW,2IAAH,sDAUZK,EAAiB,mCAAG,WAAMC,GAAN,0FAEhBJ,EAAAA,EAAAA,IAAA,UACRH,EADQ,gCACwBC,EADxB,iCACoDM,EADpD,gCAFgB,2IAAH,qD","sources":["webpack://goit-react-hw-05-movie/./src/components/MovieDetails/MovieDetails.module.css?9ca9","components/MovieDetails/MovieDetails.jsx","services/api-fetches.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"detailsLinks\":\"MovieDetails_detailsLinks__IPM0O\"};","import { useEffect, useState, lazy, Suspense } from 'react';\nimport { useParams, useLocation, Link, Outlet } from 'react-router-dom';\nimport { fetchMovieById } from 'services/api-fetches';\n\nimport css from 'components/MovieDetails/MovieDetails.module.css';\nconst BackLink = lazy(() => import('../BackLink/BackLink'));\n\nconst MovieDetails = () => {\n  const [genres, setGenres] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const { movieid: movie_id } = useParams();\n\n  const location = useLocation();\n  const backLinkHref = location.state?.from ?? '/';\n\n  const [movie, setMovie] = useState([]);\n  useEffect(() => {\n    setLoading(true);\n    const fetchData = async () => {\n      const { data } = await fetchMovieById(movie_id);\n      setMovie(data);\n      setLoading(false);\n      setGenres(data.genres);\n      console.log('movie:', data);\n    };\n\n    fetchData();\n    // eslint-disable-next-line\n  }, [movie_id]);\n\n  return (\n    <div>\n      <BackLink to={backLinkHref}>Back to products</BackLink>\n      {loading ? (\n        <p>Loading...</p>\n      ) : (\n        <>\n          <div>\n            {movie.poster_path && (\n              <img\n                src={`https://image.tmdb.org/t/p/w200/${movie.poster_path}`}\n                alt={movie.title}\n                width={200}\n              />\n            )}\n\n            <h2>{movie.original_title}</h2>\n            <p>User Score: {movie.vote_average * 10}%</p>\n            <h3>Overview</h3>\n            <p>{movie.overview}</p>\n            <h3>Genres</h3>\n            <p>{genres.map(genre => genre.name).join(', ')}</p>\n          </div>\n          <div className={css.detailsLinks}>\n            <Link to=\"Cast\" state={{ from: backLinkHref }}>\n              Cast\n            </Link>\n            <Link to=\"Reviews\" state={{ from: backLinkHref }}>\n              Reviews\n            </Link>\n          </div>\n          <Suspense fallback={<div>Loading ...</div>}>\n            <Outlet />\n          </Suspense>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst KEY = 'b27f2f3d79b3a6e46fc2bca972d7f174';\n\nexport const fetchPopularMovie = async () => {\n  try {\n    return await axios.get(`${BASE_URL}trending/movie/day?api_key=${KEY}`);\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const fetchMovieById = async movie_id => {\n  try {\n    return await axios.get(\n      `${BASE_URL}movie/${movie_id}?api_key=${KEY}&language=en-US`\n    );\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const fetchCast = async movie_id => {\n  try {\n    return await axios.get(\n      `${BASE_URL}movie/${movie_id}/credits?api_key=${KEY}&language=en-US`\n    );\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const fetchReviews = async movie_id => {\n  try {\n    return await axios.get(\n      `${BASE_URL}movie/${movie_id}/reviews?api_key=${KEY}&language=en-US&page=1`\n    );\n  } catch (error) {\n    throw error;\n  }\n};\n\nexport const fetchMovieByQuery = async query => {\n  try {\n    return await axios.get(\n      `${BASE_URL}search/movie?api_key=${KEY}&language=en-US&query=${query}&page=1&include_adult=false`\n    );\n  } catch (error) {\n    throw error;\n  }\n};\n"],"names":["BackLink","lazy","useState","genres","setGenres","loading","setLoading","movie_id","useParams","movieid","backLinkHref","useLocation","state","from","movie","setMovie","useEffect","fetchData","fetchMovieById","data","console","log","to","poster_path","src","alt","title","width","original_title","vote_average","overview","map","genre","name","join","className","css","Suspense","fallback","BASE_URL","KEY","fetchPopularMovie","axios","fetchCast","fetchReviews","fetchMovieByQuery","query"],"sourceRoot":""}